:root{
  --bg:#0e1a12;
  --felt:#14341f;
  --felt-2:#0f2a19;
  --ink:#eaf6ed;
  --muted:#cfe5d4;
  --accent:#7be495;
  --danger:#ff8a8a;
  --slot:#1e3b28;
  --card:#173b2a;
  --card-edge:#2a6d4a;
  --shadow: 0 8px 24px rgba(0,0,0,.35);

  /* Tamaños responsivos (en landscape se limitan por alto y ancho) */
  --card-w: min(clamp(88px, 14vw, 120px), clamp(88px, 24vh, 120px));
  --card-h: calc(var(--card-w) * 1.333);
  --slot-h: var(--card-h);
  --gap: clamp(6px, 1.6vw, 18px);
  --radius: 14px;
}

/* --- layout general --- */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  color:var(--ink);
  background:
    radial-gradient(1200px 600px at 50% -200px, #1d4d33 0%, transparent 60%),
    linear-gradient(180deg, var(--bg), #0b1410 60%, #080f0b);
}

/* Aviso orientación (para móviles en vertical) */
.orient-overlay{
  position:fixed; inset:0; z-index:50;
  background: rgba(0,0,0,.7);
  display:grid; place-items:center;
}
.orient-overlay.hidden{ display:none }
.orient-card{
  background:#102318; border:1px solid rgba(255,255,255,.12);
  border-radius:16px; padding:20px; width:min(92vw, 420px);
  text-align:center; box-shadow:var(--shadow);
}

/* --- cartel de turno --- */
.turn-banner{
  position:fixed;top:10px;left:50%;
  transform:translateX(-50%);
  background:rgba(0,0,0,.55);
  backdrop-filter:blur(4px);
  border:1px solid rgba(255,255,255,.15);
  color:var(--ink);
  padding:8px 14px;
  border-radius:12px;
  font-weight:800;
  z-index:20;
  opacity:0;
  transition:opacity .25s ease, transform .25s ease;
  font-size:clamp(.9rem, 2vw, 1rem);
}
.turn-banner.show{opacity:1;transform:translateX(-50%)}
.hidden{display:none}

/* --- topbar --- */
.topbar{
  display:grid;
  grid-template-columns:1fr auto 1fr;
  align-items:center;
  gap:12px;
  padding:10px clamp(10px, 3vw, 24px);
  border-bottom:1px solid rgba(255,255,255,.06);
  background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,0));
  position:sticky;top:0;z-index:5;
}
.side{display:flex;align-items:center;gap:10px}
.side-right{justify-content:flex-end}
.name{opacity:.9;letter-spacing:.3px;font-size:clamp(.9rem, 1.8vw, 1rem)}

.pollution{
  width:clamp(42px, 6vw, 56px);
  height:clamp(42px, 6vw, 56px);
  border-radius:50%;
  display:grid;place-items:center;
  background:radial-gradient(circle at 30% 30%, #2c6b49, #123822);
  box-shadow:inset 0 0 0 3px var(--accent),var(--shadow);
  font-weight:700;font-variant-numeric:tabular-nums;
  font-size:clamp(.9rem, 2.2vw, 1rem);
}
.pollution.hit{animation:pop 420ms ease}
@keyframes pop{0%{transform:scale(1)}40%{transform:scale(1.12)}100%{transform:scale(1)}}

.timer-wrap{text-align:center}
.timer-label{opacity:.8;font-size:clamp(.8rem, 1.8vw, .9rem)}
#timer{font-size:clamp(1.2rem, 3vw, 1.8rem);font-weight:800;letter-spacing:.5px}
.rule{opacity:.75;font-size:clamp(.75rem, 1.7vw, .85rem)}

/* --- tablero --- */
.board{
  max-width:min(1100px, 98vw);
  margin: clamp(6px, 2.4vw, 20px) auto;
  background:radial-gradient(900px 500px at 50% -120px,var(--felt),var(--felt-2));
  border-radius:20px;
  padding: clamp(8px, 2.2